<html>
<head>
	<title>HFS kernel module for FreeBSD</title>
</head>

<body>

<h2>HFS kernel module for FreeBSD</h2>

<h3>Status</h3>
	
	<p>The HFS kernel module is based on the Darwin 6.6 (MacOS 10.2.6)
	source.</p>

	<p>The HFS kernel driver from Darwin has been adapted to the framework
	of FreeBSD 5.</p>
	
	<p>A particular effort has been made to ensure that this port adhere to
	the FreeBSD kernel interfaces and lock semantics.</p>

<h3>Known Problems and Limitations</h3>

	<p>Only devices with the block size of 512 bytes are supported.</p>

	<p>While the journaled variant of HFS Plus should be recognized,
	journaling itself isn't supported.  If such a volume has been mounted
	read-write in FreeBSD, using it in Darwin or MacOS X may cause
	problems.  <b>That is to say: For now, avoid mounting journaled volumes
	read-write in FreeBSD.</b></p>

	<p>Disk quotas are unsupported on HFS volumes.</p>

	<p>Copying a large batch of files to an md(4) disk formatted as HFS
	with a small block size may lock up the system.  This problem seems to
	happen because of a deadlock on disk buffer space between HFS and
	md(4).  This was observed on a system with 64 RAM and a plain HFS volume
	image with the 512-byte allocation block (default for the disk size
	used.)  Increasing RAM or allocation block size hid the problem.</p>

<hr>

<p>$Id: kernel.html,v 1.3 2003/06/23 15:30:57 yar Exp $</p>

</body>
</html>
